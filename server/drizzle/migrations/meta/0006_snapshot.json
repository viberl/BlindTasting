{
  "id": "77eafe4c-5976-4a0f-af29-178a78f24c24",
  "prevId": "ce742869-a571-4ded-ada4-9efb75ac6a13",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.flights": {
      "name": "flights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "tasting_id": {
          "name": "tasting_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "time_limit": {
          "name": "time_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 600
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_approved_at": {
          "name": "review_approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "flights_tasting_id_tastings_id_fk": {
          "name": "flights_tasting_id_tastings_id_fk",
          "tableFrom": "flights",
          "tableTo": "tastings",
          "columnsFrom": [
            "tasting_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.guesses": {
      "name": "guesses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "participant_id": {
          "name": "participant_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "wine_id": {
          "name": "wine_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "producer": {
          "name": "producer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vintage": {
          "name": "vintage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "varietals": {
          "name": "varietals",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "override_score": {
          "name": "override_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "override_by": {
          "name": "override_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "override_reason": {
          "name": "override_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "override_flags": {
          "name": "override_flags",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "guesses_participant_id_participants_id_fk": {
          "name": "guesses_participant_id_participants_id_fk",
          "tableFrom": "guesses",
          "tableTo": "participants",
          "columnsFrom": [
            "participant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "guesses_wine_id_wines_id_fk": {
          "name": "guesses_wine_id_wines_id_fk",
          "tableFrom": "guesses",
          "tableTo": "wines",
          "columnsFrom": [
            "wine_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.participants": {
      "name": "participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "tasting_id": {
          "name": "tasting_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "participants_tasting_id_tastings_id_fk": {
          "name": "participants_tasting_id_tastings_id_fk",
          "tableFrom": "participants",
          "tableTo": "tastings",
          "columnsFrom": [
            "tasting_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "participants_user_id_users_id_fk": {
          "name": "participants_user_id_users_id_fk",
          "tableFrom": "participants",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scoring_rules": {
      "name": "scoring_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "tasting_id": {
          "name": "tasting_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "country": {
          "name": "country",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "region": {
          "name": "region",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "producer": {
          "name": "producer",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "wine_name": {
          "name": "wine_name",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "vintage": {
          "name": "vintage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "varietals": {
          "name": "varietals",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "any_varietal_point": {
          "name": "any_varietal_point",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "display_count": {
          "name": "display_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "scoring_rules_tasting_id_tastings_id_fk": {
          "name": "scoring_rules_tasting_id_tastings_id_fk",
          "tableFrom": "scoring_rules",
          "tableTo": "tastings",
          "columnsFrom": [
            "tasting_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tasting_invitees": {
      "name": "tasting_invitees",
      "schema": "",
      "columns": {
        "tasting_id": {
          "name": "tasting_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tasting_invitees_tasting_id_tastings_id_fk": {
          "name": "tasting_invitees_tasting_id_tastings_id_fk",
          "tableFrom": "tasting_invitees",
          "tableTo": "tastings",
          "columnsFrom": [
            "tasting_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "tasting_invitees_tasting_id_email_pk": {
          "name": "tasting_invitees_tasting_id_email_pk",
          "columns": [
            "tasting_id",
            "email"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tastings": {
      "name": "tastings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "host_id": {
          "name": "host_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "show_rating_field": {
          "name": "show_rating_field",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "show_notes_field": {
          "name": "show_notes_field",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tastings_host_id_users_id_fk": {
          "name": "tastings_host_id_users_id_fk",
          "tableFrom": "tastings",
          "tableTo": "users",
          "columnsFrom": [
            "host_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "company": {
          "name": "company",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "profile_image": {
          "name": "profile_image",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wines": {
      "name": "wines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "flight_id": {
          "name": "flight_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "letter_code": {
          "name": "letter_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "producer": {
          "name": "producer",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "vintage": {
          "name": "vintage",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "varietals": {
          "name": "varietals",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "vinaturel_id": {
          "name": "vinaturel_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_custom": {
          "name": "is_custom",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wines_flight_id_flights_id_fk": {
          "name": "wines_flight_id_flights_id_fk",
          "tableFrom": "wines",
          "tableTo": "flights",
          "columnsFrom": [
            "flight_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vinaturel_wines": {
      "name": "vinaturel_wines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "producer": {
          "name": "producer",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "vintage": {
          "name": "vintage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "varietals": {
          "name": "varietals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "article_number": {
          "name": "article_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "vinaturel_wines_external_id_unique": {
          "name": "vinaturel_wines_external_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "external_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}